<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Eclipse OpenBSW: io::BufferedWriter Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Eclipse OpenBSW
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dc/d32/classio_1_1BufferedWriter.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../dd/da8/classio_1_1BufferedWriter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">io::BufferedWriter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../df/dc9/BufferedWriter_8h_source.html">BufferedWriter.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for io::BufferedWriter:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d43/classio_1_1BufferedWriter__inherit__graph.png" border="0" usemap="#aio_1_1BufferedWriter_inherit__map" alt="Inheritance graph"/></div>
<map name="aio_1_1BufferedWriter_inherit__map" id="aio_1_1BufferedWriter_inherit__map">
<area shape="rect" title=" " alt="" coords="5,80,143,107"/>
<area shape="rect" href="../../de/d05/classio_1_1IWriter.html" title=" " alt="" coords="31,5,117,32"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for io::BufferedWriter:</div>
<div class="dyncontent">
<div class="center"><img src="../../d5/da2/classio_1_1BufferedWriter__coll__graph.png" border="0" usemap="#aio_1_1BufferedWriter_coll__map" alt="Collaboration graph"/></div>
<map name="aio_1_1BufferedWriter_coll__map" id="aio_1_1BufferedWriter_coll__map">
<area shape="rect" title=" " alt="" coords="5,80,143,107"/>
<area shape="rect" href="../../de/d05/classio_1_1IWriter.html" title=" " alt="" coords="31,5,117,32"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a41058c4cf37abf28d20f70b2ec19976e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d32/classio_1_1BufferedWriter.html#a41058c4cf37abf28d20f70b2ec19976e">BufferedWriter</a> (<a class="el" href="../../de/d05/classio_1_1IWriter.html">IWriter</a> &amp;destination)</td></tr>
<tr class="separator:a41058c4cf37abf28d20f70b2ec19976e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdc66c11aa758a7c7fb131d3ac15b41e"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d32/classio_1_1BufferedWriter.html#afdc66c11aa758a7c7fb131d3ac15b41e">maxSize</a> () const override</td></tr>
<tr class="separator:afdc66c11aa758a7c7fb131d3ac15b41e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a036e01a16c0dd3195881319c2ca10674"><td class="memItemLeft" align="right" valign="top">::etl::span&lt; uint8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d32/classio_1_1BufferedWriter.html#a036e01a16c0dd3195881319c2ca10674">allocate</a> (size_t size) override</td></tr>
<tr class="separator:a036e01a16c0dd3195881319c2ca10674"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5712c1e98d601af6af7cc621d262620"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d32/classio_1_1BufferedWriter.html#ad5712c1e98d601af6af7cc621d262620">commit</a> () override</td></tr>
<tr class="separator:ad5712c1e98d601af6af7cc621d262620"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac18410d5c43e3ac640e9f6aff2ba0b5a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d32/classio_1_1BufferedWriter.html#ac18410d5c43e3ac640e9f6aff2ba0b5a">flush</a> () override</td></tr>
<tr class="separator:ac18410d5c43e3ac640e9f6aff2ba0b5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classio_1_1IWriter"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classio_1_1IWriter')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../de/d05/classio_1_1IWriter.html">io::IWriter</a></td></tr>
<tr class="memitem:a94e57315a9e76c01ee97378e1daaeb79 inherit pub_methods_classio_1_1IWriter"><td class="memItemLeft" align="right" valign="top"><a id="a94e57315a9e76c01ee97378e1daaeb79"></a>
<a class="el" href="../../de/d05/classio_1_1IWriter.html">IWriter</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="../../de/d05/classio_1_1IWriter.html">IWriter</a> const &amp;)=delete</td></tr>
<tr class="separator:a94e57315a9e76c01ee97378e1daaeb79 inherit pub_methods_classio_1_1IWriter"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class for writing smaller chunks of bytes to a destination capable of transmitting larger pieces of data.</p>
<p>A <a class="el" href="../../dc/d32/classio_1_1BufferedWriter.html">BufferedWriter</a> will always allocate destination.maxSize() bytes as a buffer and then use this to give away chunks of data when allocating from it. A typical example would be the destination being UDP frames which are used to transport smaller e.g. CAN frames. To minimize the protocol overhead it makes sense to pack multiple CAN frames into an UDP frame.</p>
<p>When an allocation cannot guarantee MAX_ELEMENT_SIZE bytes it will commit the current buffer and allocate a new full sized chunk from the destination. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a41058c4cf37abf28d20f70b2ec19976e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41058c4cf37abf28d20f70b2ec19976e">&#9670;&nbsp;</a></span>BufferedWriter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">io::BufferedWriter::BufferedWriter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d05/classio_1_1IWriter.html">IWriter</a> &amp;&#160;</td>
          <td class="paramname"><em>destination</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructs a <a class="el" href="../../dc/d32/classio_1_1BufferedWriter.html">BufferedWriter</a> from a given <a class="el" href="../../de/d05/classio_1_1IWriter.html">IWriter</a> destination. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a036e01a16c0dd3195881319c2ca10674"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a036e01a16c0dd3195881319c2ca10674">&#9670;&nbsp;</a></span>allocate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">etl::span&lt; uint8_t &gt; io::BufferedWriter::allocate </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Allocates a slice of bytes of a given size.</p>
<p>If not enough memory is available in the current buffer, it will be flushed and a new allocation of destination.maxSize() bytes will be done.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>Number of bytes to allocate from this <a class="el" href="../../dc/d32/classio_1_1BufferedWriter.html">BufferedWriter</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- Empty slice, if requested size was greater as MAX_ELEMENT_SIZE or no memory is available<ul>
<li>Slice of bytes otherwise. </li>
</ul>
</dd></dl>

<p>Implements <a class="el" href="../../de/d05/classio_1_1IWriter.html#adcffd44a4b5104b24e5b647de61f8ac4">io::IWriter</a>.</p>

</div>
</div>
<a id="ad5712c1e98d601af6af7cc621d262620"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5712c1e98d601af6af7cc621d262620">&#9670;&nbsp;</a></span>commit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void io::BufferedWriter::commit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Commits the previously allocated data. It is not guaranteed that this data is immediately available to the reader as a call to <a class="el" href="../../dc/d32/classio_1_1BufferedWriter.html#ac18410d5c43e3ac640e9f6aff2ba0b5a">flush()</a> might be required for that. </p>

<p>Implements <a class="el" href="../../de/d05/classio_1_1IWriter.html#ab53a4d2528382e0640cc3d414bc1a128">io::IWriter</a>.</p>

</div>
</div>
<a id="ac18410d5c43e3ac640e9f6aff2ba0b5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac18410d5c43e3ac640e9f6aff2ba0b5a">&#9670;&nbsp;</a></span>flush()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void io::BufferedWriter::flush </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Commits the data currently written to slice allocated from destination making it available to the reader. </p>

<p>Implements <a class="el" href="../../de/d05/classio_1_1IWriter.html#a224f1e4aa3089e408f984ff28d57c41c">io::IWriter</a>.</p>

</div>
</div>
<a id="afdc66c11aa758a7c7fb131d3ac15b41e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdc66c11aa758a7c7fb131d3ac15b41e">&#9670;&nbsp;</a></span>maxSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t io::BufferedWriter::maxSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../de/d05/classio_1_1IWriter.html#a73eca74c8dbf7d96dca1d47744a24daa">IWriter::maxSize()</a> </dd></dl>

<p>Implements <a class="el" href="../../de/d05/classio_1_1IWriter.html#a73eca74c8dbf7d96dca1d47744a24daa">io::IWriter</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../df/dc9/BufferedWriter_8h_source.html">BufferedWriter.h</a></li>
<li>BufferedWriter.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d1/d96/namespaceio.html">io</a></li><li class="navelem"><a class="el" href="../../dc/d32/classio_1_1BufferedWriter.html">BufferedWriter</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
