<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="EclipseOpenBSWDocumentation" name="dox_trace_storage" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>User documentation &mdash; Eclipse OpenBSW Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/rtd_theme_overrides.css?v=6fd0d55b" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/colors.css?v=3cafd8aa" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/colored_table.css?v=34b816d5" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/header.css?v=e632285e" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/dox_util_colors.css?v=dd14b177" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/dox_trace.css?v=60d3f72c" />

  
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../../../_static/copybutton.js?v=f281be69"></script>
        <script src="../../../../../_static/dox_trace.js?v=40719b51"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="asyncConsole - Asynchronous Console" href="../../../asyncConsole/doc/index.html" />
    <link rel="prev" title="async - Asynchronous Execution Interface" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../../doc/index.html" class="icon icon-home">
            Eclipse OpenBSW Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Learning</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../doc/learning/overview.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../doc/learning/SysTest/HW_Testing_Guide.html">Hardware Testing Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../tools/UdsTool/doc/index.html">UdsTool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../doc/codingGuidelines/index.html">Coding Guidelines</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Platforms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../doc/platforms/posix/index.html">POSIX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../doc/platforms/s32k148evb/index.html">S32K148 Evaluation Board</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Application</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/application/doc/index.html">application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/asyncBinding/doc/index.html">asyncBinding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/asyncCoreConfiguration/doc/index.html">asyncCoreConfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/configuration/doc/index.html">configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/consoleCommands/doc/index.html">consoleCommands - Command utility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/platforms/posix/freeRtosCoreConfiguration/doc/index.html">freeRtosCoreConfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/platforms/posix/main/doc/index.html">main</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/platforms/s32k148evb/bspConfiguration/doc/index.html">bspConfiguration - S32k148EVB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/platforms/s32k148evb/freeRtosCoreConfiguration/doc/index.html">freeRtosCoreConfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/platforms/s32k148evb/main/doc/index.html">main</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/transportConfiguration/doc/index.html">transportConfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/udsConfiguration/doc/index.html">udsConfiguration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BSW Modules</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">async - Asynchronous Execution Interface</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#overview">Overview</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">User documentation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#features">Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#making-runnable-class-and-scheduling-it">Making runnable class and scheduling it</a></li>
<li class="toctree-l5"><a class="reference internal" href="#use-async-function-to-provide-customized-implementation-on-execution">Use <code class="docutils literal notranslate"><span class="pre">async::Function</span></code> to provide customized implementation on execution</a></li>
<li class="toctree-l5"><a class="reference internal" href="#use-async-membercall-to-force-non-runnable-class-behave-like-runnable">Use <code class="docutils literal notranslate"><span class="pre">async::MemberCall</span></code> to force non-runnable class behave like runnable</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#relevant-types">Relevant types</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#context">Context</a></li>
<li class="toctree-l5"><a class="reference internal" href="#runnable">Runnable</a></li>
<li class="toctree-l5"><a class="reference internal" href="#locks">Locks</a></li>
<li class="toctree-l5"><a class="reference internal" href="#time-units">Time units</a></li>
<li class="toctree-l5"><a class="reference internal" href="#timeout">Timeout</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#integration">Integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#porting-to-a-new-platform">Porting to a new platform</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../asyncConsole/doc/index.html">asyncConsole - Asynchronous Console</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../asyncFreeRtos/doc/index.html">asyncFreeRtos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../asyncImpl/doc/index.html">asyncImpl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bsp/doc/index.html">bsp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../common/doc/index.html">common</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cpp2can/doc/index.html">cpp2can - CAN Abstraction Layer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docan/doc/index.html">docan - Diagnostics over CAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../io/doc/index.html">io - IO Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../lifecycle/doc/index.html">lifecycle - App Lifecycle Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../logger/doc/index.html">logger - Logger module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../loggerIntegration/doc/index.html">loggerIntegration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../platform/doc/index.html">platform - Platform Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../runtime/doc/index.html">runtime</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../stdioConsoleInput/doc/index.html">stdioConsoleInput</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../timer/doc/index.html">timer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../transport/doc/index.html">transport - Transport Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../transportRouterSimple/doc/index.html">transportRouterSimple</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../uds/doc/index.html">uds - Unified Diagnostic Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../util/doc/index.html">util</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Safety Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../safety/safeMonitor/doc/index.html">safeMonitor - System Integrity Classes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BSP Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../bsp/bspCharInputOutput/doc/index.html">bspCharInputOutput</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../bsp/bspDynamicClient/doc/index.html">bspDynamicClient - Dynamic Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../bsp/bspInputManager/doc/index.html">bspInputManager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../bsp/bspInterrupts/doc/index.html">bspInterrupts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../bsp/bspOutputManager/doc/index.html">bspOutputManager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../bsp/bspOutputPwm/doc/index.html">bspOutputPwm - Output PWM driver</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BSP Modules posix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/posix/bsp/bspInterruptsImpl/doc/index.html">bspInterruptsImpl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/posix/bsp/bspMcu/doc/index.html">bspMcu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/posix/bsp/bspStdio/doc/index.html">bspStdio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/posix/bsp/bspSystemTime/doc/index.html">bspSystemTime</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/posix/bsp/socketCanTransceiver/doc/index.html">socketCanTransceiver</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BSP Modules s32k1xx</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/bsp/bspAdc/doc/index.html">bspAdc - ADC driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/bsp/bspClock/doc/index.html">bspClock</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/bsp/bspCore/doc/index.html">bspCore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/bsp/bspFlexCan/doc/index.html">bspFlexCan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/bsp/bspFtm/doc/index.html">bspFtm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/bsp/bspFtmPwm/doc/index.html">bspFtmPwm - FTM driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/bsp/bspInterruptsImpl/doc/index.html">bspInterruptsImpl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/bsp/bspIo/doc/index.html">bspIo - IO driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/bsp/bspMcu/doc/index.html">bspMcu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/bsp/bspMcuWatchdog/doc/index.html">bspMcuWatchdog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/bsp/bspSci/doc/index.html">bspSci</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/bsp/canflex2Transceiver/doc/index.html">canflex2Transceiver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../platforms/s32k1xx/hardFaultHandler/doc/index.html">hardFaultHandler</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BSP Configuration for s32k148evb</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/platforms/s32k148evb/bspConfiguration/doc/index.html">bspConfiguration - S32k148EVB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/platforms/s32k148evb/freeRtosCoreConfiguration/doc/index.html">freeRtosCoreConfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/referenceApp/platforms/s32k148evb/main/doc/index.html">main</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">UT Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/unitTest/bsp/bspConfiguration/doc/index.html">bspConfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/unitTest/bsp/bspInterruptsImpl/doc/index.html">bspInterruptsImpl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/unitTest/bsp/bspIo/doc/index.html">bspIo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/unitTest/bsp/bspMcu/doc/index.html">bspMcu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/unitTest/bsp/bspSci/doc/index.html">bspSci</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../executables/unitTest/common/doc/index.html">common</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Analysis</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../doc/analysis/index.html">Analysis</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../doc/index.html">Eclipse OpenBSW Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../doc/index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">async - Asynchronous Execution Interface</a> &raquo;</li>
        
        <li>User documentation</li>
    

    

      <li class="wy-breadcrumbs-aside">

        <!-- DOCUMENT STATUS -->

        

        <!-- DATA CLASSIFICATION -->

        

      </li>

    
  </ul>

  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="user-documentation">
<h1>User documentation<a class="headerlink" href="#user-documentation" title="Link to this heading"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">async</span></code> module defines an interface for asynchronous execution of runnable objects in specific execution contexts.</p>
<p>To be able to run code on arbitrary platforms in a generic way, this module provides an abstraction on top of
OS specific primitives. <code class="docutils literal notranslate"><span class="pre">async</span></code> uses the underlying <code class="docutils literal notranslate"><span class="pre">async::AsyncBinding</span></code> type to access to specific OS
implementations, for instance via <code class="docutils literal notranslate"><span class="pre">async::FreeRtosAdapter</span></code> for <strong>FreeRTOS</strong> OS.</p>
</section>
<section id="features">
<h2>Features<a class="headerlink" href="#features" title="Link to this heading"></a></h2>
<p>Three asynchronous (non-blocking) functions are declared by async in <code class="docutils literal notranslate"><span class="pre">Async.h</span></code>:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>execute</p></td>
<td><p>Allows to execute a <code class="docutils literal notranslate"><span class="pre">async::RunnableType</span></code> immediately in an execution <code class="docutils literal notranslate"><span class="pre">async::ContextType</span></code></p></td>
</tr>
<tr class="row-even"><td><p>schedule</p></td>
<td><p>Allows to schedule a <code class="docutils literal notranslate"><span class="pre">async::RunnableType</span></code> to be run after a delay in a <code class="docutils literal notranslate"><span class="pre">async::ContextType</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>scheduleAtFixedRate</p></td>
<td><p>Allows to schedule a <code class="docutils literal notranslate"><span class="pre">async::RunnableType</span></code> to be run periodically in a <code class="docutils literal notranslate"><span class="pre">async::ContextType</span></code></p></td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">util/Call.h</span></code> declares a runnable class that allows customized implementation on execution
by providing callable object (with <em>function call</em> operator <code class="docutils literal notranslate"><span class="pre">()</span></code>).
For example the predefined <code class="docutils literal notranslate"><span class="pre">async::Function</span></code> type is declaring <code class="docutils literal notranslate"><span class="pre">::etl::delegate</span></code> as callable type.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">util/MemberCall.h</span></code> provides a <code class="docutils literal notranslate"><span class="pre">async::MemberCall</span></code> class, which allows to create a <code class="docutils literal notranslate"><span class="pre">async::RunnableType</span></code>
from a member function of a non-runnable class.</p>
</section>
<section id="examples">
<span id="asyncex"></span><h2>Examples<a class="headerlink" href="#examples" title="Link to this heading"></a></h2>
<section id="making-runnable-class-and-scheduling-it">
<h3>Making runnable class and scheduling it<a class="headerlink" href="#making-runnable-class-and-scheduling-it" title="Link to this heading"></a></h3>
<p>Define a class that implements the <code class="docutils literal notranslate"><span class="pre">async::IRunnable</span></code> interface:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;async/Async.h&gt;</span>

<span class="k">class</span><span class="w"> </span><span class="nc">RunnableImpl</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">IRunnable</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">execute</span><span class="p">()</span><span class="w"> </span><span class="k">override</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">fprintf</span><span class="p">(</span><span class="n">stdout</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Executing user logic!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>In client code allocate the runnable object and asynchronously execute it:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="n">RunnableImpl</span><span class="w"> </span><span class="n">runnable</span><span class="p">;</span>
<span class="k">static</span><span class="w"> </span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">TimeoutType</span><span class="w"> </span><span class="n">timeout</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">executeRunnable</span><span class="p">(</span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">ContextType</span><span class="o">&amp;</span><span class="w"> </span><span class="n">context</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// asynchronously execute the runnable:</span>
<span class="w">    </span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">execute</span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">runnable</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// schedule the runnable for single-time execution after 1 second from now:</span>
<span class="w">    </span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">schedule</span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">runnable</span><span class="p">,</span><span class="w"> </span><span class="n">timeout</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">TimeUnit</span><span class="o">::</span><span class="n">SECONDS</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// schedule the runnable for cyclic execution with period 2 seconds:</span>
<span class="w">    </span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">scheduleAtFixedRate</span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">runnable</span><span class="p">,</span><span class="w"> </span><span class="n">timeout</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">TimeUnit</span><span class="o">::</span><span class="n">SECONDS</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="use-async-function-to-provide-customized-implementation-on-execution">
<span id="asyncall"></span><h3>Use <code class="docutils literal notranslate"><span class="pre">async::Function</span></code> to provide customized implementation on execution<a class="headerlink" href="#use-async-function-to-provide-customized-implementation-on-execution" title="Link to this heading"></a></h3>
<p>Allocate the timeout variables and define execution callback functions:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">TimeUnitType</span><span class="w"> </span><span class="n">PERIOD_IN_S</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="k">static</span><span class="w"> </span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">TimeoutType</span><span class="w"> </span><span class="n">runTimeout</span><span class="p">;</span>
<span class="k">static</span><span class="w"> </span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">TimeoutType</span><span class="w"> </span><span class="n">cancelTimeout</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">runModule</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">fprintf</span><span class="p">(</span><span class="n">stdout</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;running!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">stopModule</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">runTimeout</span><span class="p">.</span><span class="n">cancel</span><span class="p">();</span>
<span class="w">    </span><span class="n">fprintf</span><span class="p">(</span><span class="n">stdout</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;stopped!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In client code specify the <code class="docutils literal notranslate"><span class="pre">async::Function</span></code> objects and schedule them:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">startStopModule</span><span class="p">(</span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">ContextType</span><span class="o">&amp;</span><span class="w"> </span><span class="n">context</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// execute runModule every PERIOD_IN_S:</span>
<span class="w">    </span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">Function</span><span class="w"> </span><span class="n">moduleRunnable</span><span class="p">(</span><span class="n">runModule</span><span class="p">);</span>
<span class="w">    </span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">scheduleAtFixedRate</span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">moduleRunnable</span><span class="p">,</span><span class="w"> </span><span class="n">runTimeout</span><span class="p">,</span><span class="w"> </span><span class="n">PERIOD_IN_S</span><span class="p">,</span><span class="w"> </span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">TimeUnit</span><span class="o">::</span><span class="n">SECONDS</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// execute stopModule after 2*PERIOD_IN_S:</span>
<span class="w">    </span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">Function</span><span class="w"> </span><span class="n">cancelRunnable</span><span class="p">(</span><span class="n">stopModule</span><span class="p">);</span>
<span class="w">    </span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">schedule</span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">cancelRunnable</span><span class="p">,</span><span class="w"> </span><span class="n">cancelTimeout</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="o">*</span><span class="n">PERIOD_IN_S</span><span class="p">,</span><span class="w"> </span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">TimeUnit</span><span class="o">::</span><span class="n">SECONDS</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This example could produce the following output, if <code class="docutils literal notranslate"><span class="pre">startStopModule()</span></code> is called:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>running!
running!
stopped!
</pre></div>
</div>
</section>
<section id="use-async-membercall-to-force-non-runnable-class-behave-like-runnable">
<span id="asynmembercall"></span><h3>Use <code class="docutils literal notranslate"><span class="pre">async::MemberCall</span></code> to force non-runnable class behave like runnable<a class="headerlink" href="#use-async-membercall-to-force-non-runnable-class-behave-like-runnable" title="Link to this heading"></a></h3>
<p>Declare a non-runnable class:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;async/Async.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;async/util/MemberCall.h&gt;</span>

<span class="k">class</span><span class="w"> </span><span class="nc">NonRunnable</span><span class="w"> </span><span class="c1">// the class is NOT inheriting from Runnable!</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">run</span><span class="p">()</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;running!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="c1">// must not necessarily be member of the class:</span>
<span class="w">    </span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">MemberCall</span><span class="o">&lt;</span><span class="n">NonRunnable</span><span class="o">&gt;</span><span class="w"> </span><span class="n">memberCall</span><span class="p">{</span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">NonRunnable</span><span class="o">::</span><span class="n">run</span><span class="p">};</span>
<span class="p">};</span>
</pre></div>
</div>
<p>In client code, use the <code class="docutils literal notranslate"><span class="pre">async::MemberCall</span></code> object to schedule the execution:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">executeNonRunnable</span><span class="p">(</span><span class="n">NonRunnable</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">nonRunnable</span><span class="p">,</span><span class="w"> </span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">ContextType</span><span class="o">&amp;</span><span class="w"> </span><span class="n">context</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// asynchronously call the run method of the NonRunnable object:</span>
<span class="w">    </span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">execute</span><span class="p">(</span><span class="n">nonRunnable</span><span class="p">.</span><span class="n">memberCall</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// asynchronously call the run method with delay 1 second:</span>
<span class="w">    </span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">schedule</span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">nonRunnable</span><span class="p">.</span><span class="n">memberCall</span><span class="p">,</span><span class="w"> </span><span class="n">timeout</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">TimeUnit</span><span class="o">::</span><span class="n">SECONDS</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// asynchronously call the run method periodically every 2 seconds:</span>
<span class="w">    </span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">scheduleAtFixedRate</span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">nonRunnable</span><span class="p">.</span><span class="n">memberCall</span><span class="p">,</span><span class="w"> </span><span class="n">timeout</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="o">::</span><span class="n">async</span><span class="o">::</span><span class="n">TimeUnit</span><span class="o">::</span><span class="n">SECONDS</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="relevant-types">
<span id="relevanttypes"></span><h2>Relevant types<a class="headerlink" href="#relevant-types" title="Link to this heading"></a></h2>
<section id="context">
<h3>Context<a class="headerlink" href="#context" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">async::ContextType</span></code> represents an execution context. All functions that run in the same context are guaranteed
to be run sequentially, allowing safe access to shared resources.</p>
<p>It can be created from a <code class="docutils literal notranslate"><span class="pre">uint8_t</span></code> and is copyable, assignable, and comparable, with a defined invalid value (<code class="docutils literal notranslate"><span class="pre">CONTEXT_INVALID</span></code>).</p>
</section>
<section id="runnable">
<h3>Runnable<a class="headerlink" href="#runnable" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">async::RunnableType</span></code> is an object that defines a <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">execute(void)</span></code> method, allowing it to be executed.
The <code class="docutils literal notranslate"><span class="pre">async::IRunnable</span></code> interface in <code class="docutils literal notranslate"><span class="pre">async::AsyncImpl</span></code> is one example of a <code class="docutils literal notranslate"><span class="pre">async::RunnableType</span></code>, used by certain implementations.</p>
</section>
<section id="locks">
<h3>Locks<a class="headerlink" href="#locks" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">async::LockType</span></code> and <code class="docutils literal notranslate"><span class="pre">async::ModifiableLockType</span></code> are scoped locks. The modifiable counterpart can be unlocked
and locked manually.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The functional and non-functional semantics of these lock types can differ between implementations of this module
for different target platforms. In some cases, platform specific usage invariants may apply. Using these lock types
will impact the software’s real-time performance and should only be employed when absolutely necessary
and with a clear understanding of their broader impact.</p>
</div>
</section>
<section id="time-units">
<h3>Time units<a class="headerlink" href="#time-units" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">async::TimeUnitType</span></code> is an alias of <code class="docutils literal notranslate"><span class="pre">TimeUnit</span></code> type providing a definition of micro-, milli-, and full seconds.
The following values are available within the <code class="docutils literal notranslate"><span class="pre">async::TimeUnit</span></code> scope:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">TimeUnit</span><span class="o">::</span><span class="n">MICROSECONDS</span>
<span class="n">TimeUnit</span><span class="o">::</span><span class="n">MILLISECONDS</span>
<span class="n">TimeUnit</span><span class="o">::</span><span class="n">SECONDS</span>
</pre></div>
</div>
</section>
<section id="timeout">
<h3>Timeout<a class="headerlink" href="#timeout" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">async::TimeoutType</span></code> provides the necessary memory to support the use of <code class="docutils literal notranslate"><span class="pre">schedule()</span></code> and <code class="docutils literal notranslate"><span class="pre">scheduleAtFixedRate()</span></code>.
It can be cancelled using its <code class="docutils literal notranslate"><span class="pre">cancel()</span></code> method.</p>
</section>
</section>
<section id="integration">
<h2>Integration<a class="headerlink" href="#integration" title="Link to this heading"></a></h2>
<p>If a module uses <code class="docutils literal notranslate"><span class="pre">async</span></code>, it <em>must</em> verify the correct usage of types by writing a unit test with the <code class="docutils literal notranslate"><span class="pre">async</span></code> mocks provided in the <code class="docutils literal notranslate"><span class="pre">mock/gmock</span></code> subfolder.</p>
<p>The following mocks are available, each of which mocks all <code class="docutils literal notranslate"><span class="pre">async</span></code> methods:</p>
<blockquote>
<div><ul class="simple">
<li><p>AsyncMock</p></li>
<li><p>LockMock</p></li>
<li><p>TimeoutMock</p></li>
</ul>
</div></blockquote>
<p>When mocking all of async is not desired, <code class="docutils literal notranslate"><span class="pre">TestContext.h</span></code> and <code class="docutils literal notranslate"><span class="pre">.cpp</span></code> can be used.
They provide a way to emulate async behaviour, that can be triggered manually for a specific context.</p>
</section>
<section id="porting-to-a-new-platform">
<h2>Porting to a new platform<a class="headerlink" href="#porting-to-a-new-platform" title="Link to this heading"></a></h2>
<p>To port async to a new platform, one must start by providing corresponding AdapterType, mapping the concepts to the
target platform.</p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025 Accenture.</p>
  </div>

  <div role="footer_string">
    <p>Documentation from 2025-07-11 12:41:26, official build.</p>

    
      <a href="../../../../../_sources/libs/bsw/async/doc/user/index.rst.txt" rel="nofollow"> View page source</a>
    

  </div>

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>